<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBIXConfig Doctor</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!-- Copy to clipboard -->
    <script>
        function copyText(id) {
            const text = document.getElementById(id).innerText;
            navigator.clipboard.writeText(text);
            alert("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
        }
    </script>
</head>

<body>
<main class="container">

    <h1>üõ† OBIXConfig Doctor</h1>
    <p class="subtitle">‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå & ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡πà‡∏≤ FPV Config ‡πÅ‡∏ö‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>

    <!-- FORM -->
    <form method="POST" class="form-card">

        <label>‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏î‡∏£‡∏ô (‡∏ô‡∏¥‡πâ‡∏ß)</label>
        <input type="number" name="size" placeholder="‡πÄ‡∏ä‡πà‡∏ô 5" required>

        <label>‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà</label>
        <select name="battery" required>
            <option value="4S">4S</option>
            <option value="6S">6S</option>
        </select>

        <label>‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô</label>
        <select name="style" required>
            <option value="Freestyle">Freestyle</option>
            <option value="Racing">Racing</option>
            <option value="Cinematic">Cinematic</option>
        </select>

        <label>‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</label>
        <select name="mode" required>
            <option value="Basic">Basic</option>
            <option value="Advanced">Advanced</option>
            <option value="Pro">Pro</option>
        </select>

        <button type="submit">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</button>
    </form>

    <!-- RESULT -->
    {% if analysis %}
    <div class="result-card">

        <h2>üîç ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h2>

        <p><strong>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°:</strong> {{ analysis['overview'] }}</p>

        <h3>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</h3>
        <ul>
            {% for tip in analysis['basic_tips'] %}
            <li>{{ tip }}</li>
            {% endfor %}
        </ul>

        {% if analysis.get('advanced') %}
        <h3>‡πÇ‡∏´‡∏°‡∏î {{ request.form['mode'] }}</h3>

        <p id="pid">
            PID ‚Üí P={{ analysis['advanced']['PID']['P'] }},
            I={{ analysis['advanced']['PID']['I'] }},
            D={{ analysis['advanced']['PID']['D'] }}
        </p>
        <button onclick="copyText('pid')">Copy PID</button>

        <p id="filter">
            Filter ‚Üí {{ analysis['advanced']['Filter'] }}
        </p>
        <button onclick="copyText('filter')">Copy Filter</button>

        <p><strong>Extra Tips:</strong> {{ analysis['advanced']['ExtraTips'] }}</p>
        {% endif %}

        {% if analysis.get('notes') %}
        <h3>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</h3>
        <ul>
            {% for note in analysis['notes'] %}
            <li>{{ note }}</li>
            {% endfor %}
        </ul>
        {% endif %}

    </div>
    {% endif %}

    <footer>
        OBIXConfig Doctor ‚Ä¢ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÑ‡∏°‡πà‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏á
    </footer>

</main>
</body>
</html>
